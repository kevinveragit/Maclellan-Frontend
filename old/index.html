<!DOCTYPE html><!--  This site was created in Webflow. https://webflow.com  --><!--  Last Published: Fri Sep 13 2024 01:42:22 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="65ef6a9d933d09fb8c604757" data-wf-site="65ef6a9d933d09fb8c604750">
<head>
  <meta charset="utf-8">
  <title>Tina Coombs Family Site</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/maclellan-family.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Changa One:400,400italic","Varela Round:400","Great Vibes:400","Exo:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic","Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon"><!--  FIREBASE CODE  -->
  <!--  MADE BY WEBREND, KEVIN VERA  -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dropbox.js/10.15.0/Dropbox-sdk.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script type="module">
// Import the functions you need from the SDKs you need
import { auth, db, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from 'https://maclellan-family-website.s3.us-east-2.amazonaws.com/firebase-init.js';
import { refreshDropboxAccessToken, createDropboxInstance, getDropboxInstance, accessToken } from 'https://maclellan-family-website.s3.us-east-2.amazonaws.com/dropbox-auth.js';
import { query, getDocs, collection, where } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";
import { getUserCount, updateTotalFileCount } from 'https://maclellan-family-website.s3.us-east-2.amazonaws.com/usercount.js';
let cursor = null;
// Handle sign-up
async function handleSignUp(e) {
    e.preventDefault();
    e.stopPropagation();
    const name = document.getElementById('signup-name').value;
    const email = document.getElementById('signup-email').value;
    const password = document.getElementById('signup-password').value;
    console.log("Name is " + name);
    console.log("Email is " + email);
    try {
        const userCount = await getUserCount();
        if (userCount >= 6) {
            const errorText = document.getElementById('signup-error-message');
            errorText.innerHTML = "User limit reached. No more sign-ups allowed.";
            return;
        }
        const userCredential = await createUserWithEmailAndPassword(auth, email, password);
        const user = userCredential.user;
        const uniqueKey = generateUniqueKey();
        console.log('User successfully created: ' + user.email);
        const folderPath = `/${name}`;
        console.log(`Creating folder in Dropbox at path: ${folderPath}`);
        const dbx = await getDropboxInstance();
        try {
            const createFolderResponse = await dbx.filesCreateFolderV2({ path: folderPath });
            console.log('Folder created in Dropbox for user:', createFolderResponse);
        } catch (dropboxError) {
            if (dropboxError.response) {
                const errorText = await dropboxError.response.text();
                console.error('Dropbox folder creation failed:', errorText);
            } else {
                console.error('Dropbox folder creation failed:', dropboxError);
            }
            throw dropboxError;
        }
        await setDoc(doc(db, "users", user.uid), {
            uid: user.uid,
            name: name,
            email: user.email,
            role: 'user',
            content: `This is the personalized content for ${email}. Your unique key is ${uniqueKey}.`,
            folderPath: folderPath
        });
        console.log('User document created with content and folder path.');
        location.reload();
    } catch (error) {
        const errorCode = error.code;
        const errorMessage = error.message;
        const errorText = document.getElementById('signup-error-message');
        console.log('Error during sign-up:', errorMessage);
        errorText.innerHTML = errorMessage;
    }
}
// Handle sign-in
async function handleSignIn(e) {
    e.preventDefault();
    e.stopPropagation();
    const email = document.getElementById('signin-email').value;
    const password = document.getElementById('signin-password').value;
    try {
        const userCredential = await signInWithEmailAndPassword(auth, email, password);
        const user = userCredential.user;
        console.log('User logged in: ' + user.email);
        const userDoc = await getDoc(doc(db, "users", user.uid));
        if (userDoc.exists()) {
            const userData = userDoc.data();
            console.log(`User document data: ${JSON.stringify(userData)}`);
            const dbx = await getDropboxInstance();
            console.log('Calling your folder from handleSignIn');
            await fetchAndDisplayUserDropboxFolder(userData.folderPath, dbx);
            await updateFileCount(userData.folderPath, dbx);
            await updateTotalFileCount(dbx);
            await displayAllUsers(); // Display all users for admin
            location.reload();
        } else {
            console.log("No such document!");
        }
    } catch (error) {
        const errorCode = error.code;
        const errorMessage = error.message;
        const errorText = document.getElementById('signin-error-message');
        console.log('Error during sign-in:', errorMessage);
        errorText.innerHTML = errorMessage;
    }
}
// Handle sign-out
function handleSignOut() {
  signOut(auth).then(() => {
    // Refreshes the current page
    window.location.reload();
    console.log('User signed out');
  }).catch((error) => {
    console.log(error.message);
  });
}
// removes an admin based on input
async function handleRemoveAdmin(e) {
    e.preventDefault();
    e.stopPropagation();
    const email = document.getElementById('remove-admin-email').value;
    try {
        const userQuery = query(collection(db, "users"), where("email", "==", email));
        const querySnapshot = await getDocs(userQuery);
        if (querySnapshot.empty) {
            const errorText = document.getElementById('remove-admin-error-message');
            errorText.innerHTML = "User not found.";
            return;
        }
        const userDoc = querySnapshot.docs[0];
        await updateDoc(userDoc.ref, {
            role: 'user'
        });
        console.log('User role updated to user: ' + email);
    } catch (error) {
        const errorMessage = error.message;
        const errorText = document.getElementById('remove-admin-error-message');
        console.log('Error during role removal:', errorMessage);
        errorText.innerHTML = errorMessage;
    }
}
// handle delete user
async function handleDeleteUser(e, uid) {
    e.preventDefault();
    e.stopPropagation();
    try {
        const userDocRef = doc(db, "users", uid);
        const userDoc = await getDoc(userDocRef);
        if (userDoc.exists()) {
            await deleteDoc(userDocRef);
            console.log('User document deleted from Firestore.');
        }
        const user = auth.currentUser;
        if (user && user.uid === uid) {
            await deleteUser(user);
        } else {
            const userCredential = await signInWithEmailAndPassword(auth, userDoc.data().email, "dummy-password");
            await deleteUser(userCredential.user);
        }
        await displayAllUsers(); // Refresh the user list after deletion
    } catch (error) {
        const errorMessage = error.message;
        console.log('Error during user deletion:', errorMessage);
    }
}
//handles assignment of admins
async function handleAssignAdmin(e) {
    e.preventDefault();
    e.stopPropagation();
    const email = document.getElementById('assign-admin-email').value;
    try {
        const userQuery = query(collection(db, "users"), where("email", "==", email));
        const querySnapshot = await getDocs(userQuery);
        if (querySnapshot.empty) {
            const errorText = document.getElementById('assign-admin-error-message');
            errorText.innerHTML = "User not found.";
            return;
        }
        const userDoc = querySnapshot.docs[0];
        await updateDoc(userDoc.ref, {
            role: 'admin'
        });
        console.log('User role updated to admin: ' + email);
    } catch (error) {
        const errorMessage = error.message;
        const errorText = document.getElementById('assign-admin-error-message');
        console.log('Error during role assignment:', errorMessage);
        errorText.innerHTML = errorMessage;
    }
}
// handles changing your email
async function handleChangeEmail(e) {
    e.preventDefault();
    e.stopPropagation();
    const currentPasswordForEmailChange = document.getElementById('current-password-email-change').value;
    const newEmail = document.getElementById('new-email').value;
    const user = auth.currentUser;
    const changeEmailMessage = document.getElementById('change-email-message');
    if (user) {
        const credential = EmailAuthProvider.credential(user.email, currentPasswordForEmailChange);
        try {
            console.log('Reauthenticating user...');
            await reauthenticateWithCredential(user, credential);
            console.log('Reauthentication successful. Updating email...');
            await updateEmail(user, newEmail);
            console.log('Email updated in Firebase Auth.');
            // Send verification email
            await sendEmailVerification(user);
            console.log('Verification email sent.');
            // Update the Firestore user document
            const userDocRef = doc(db, "users", user.uid);
            await updateDoc(userDocRef, {
                email: newEmail
            });
            console.log('Email updated in Firestore.');
            changeEmailMessage.style.color = "green";
            changeEmailMessage.innerHTML = "Email successfully updated. Please check your inbox to verify your new email.";
        } catch (error) {
            console.log('Error during email change:', error.message);
            changeEmailMessage.innerHTML = error.message;
        }
    } else {
        changeEmailMessage.innerHTML = "No user is currently signed in.";
    }
}
// changes pass based on current password
async function handleChangePassword(e) {
    e.preventDefault();
    e.stopPropagation();
    const currentPassword = document.getElementById('current-password').value;
    const newPassword = document.getElementById('new-password').value;
    const user = auth.currentUser;
    const changePasswordMessage = document.getElementById('change-password-message');
    if (user) {
        const credential = EmailAuthProvider.credential(user.email, currentPassword);
        try {
            await reauthenticateWithCredential(user, credential);
            await updatePassword(user, newPassword);
            changePasswordMessage.style.color = "green";
            changePasswordMessage.innerHTML = "Password successfully updated.";
        } catch (error) {
            console.log('Error during password change:', error.message);
            changePasswordMessage.innerHTML = error.message;
        }
    } else {
        changePasswordMessage.innerHTML = "No user is currently signed in.";
    }
}
// handles forgottne password and emails you
async function handleForgotPassword(e) {
    e.preventDefault();
    e.stopPropagation();
    const email = document.getElementById('forgot-password-email').value;
    const forgotPasswordMessage = document.getElementById('forgot-password-message');
    try {
        await sendPasswordResetEmail(auth, email);
        forgotPasswordMessage.style.color = "green";
        forgotPasswordMessage.innerHTML = "Password reset email sent successfully. Please check your inbox.";
    } catch (error) {
        console.log('Error during password reset:', error.message);
        forgotPasswordMessage.style.color = "red";
        forgotPasswordMessage.innerHTML = error.message;
    }
}
// gets all active users
async function displayAllUsers() {
    try {
        const usersDisplayed = document.getElementById('users-displayed');
        if (!usersDisplayed) {
            console.error('Element with id "users-displayed" not found.');
            return;
        }
        usersDisplayed.innerHTML = ''; // Clear existing content
        const querySnapshot = await getDocs(collection(db, "users"));
        querySnapshot.forEach((doc) => {
            const userData = doc.data();
            const userItem = document.createElement('div');
            userItem.className = 'user-item';
            userItem.innerText = userData.name;
            const removeButton = document.createElement('button');
            removeButton.innerText = 'REMOVE';
            removeButton.onclick = (e) => handleDeleteUser(e, userData.uid);
            userItem.appendChild(removeButton);
            usersDisplayed.appendChild(userItem);
        });
    } catch (error) {
        console.error('Error fetching users:', error);
    }
}
async function fetchAndDisplayUserDropboxFolder(folderPath, dbx) {
    try {
        console.log(`Fetching contents of folder: ${folderPath}`);
        const container = document.getElementById('user-pictures-container');
        if (!container) {
            console.error('Element with id "user-pictures-container" not found.');
            return;
        }
        container.innerHTML = ''; // Clear the container before fetching new content
        const response = await dbx.filesListFolder({ path: folderPath });
        const files = response.result.entries;
        console.log('Files in folder:', files);
        if (files.length === 0) {
            console.log(`No files found in folder: ${folderPath}`);
            container.innerHTML = '<p>No files found in your folder.</p>';
            return;
        }
        files.forEach(async (file) => {
            if (file['.tag'] === 'file') {
                const fileExtension = file.name.split('.').pop().toLowerCase();
                const tempLinkResponse = await dbx.filesGetTemporaryLink({ path: file.path_lower });
                let mediaElement;
                if (['jpg', 'jpeg', 'png', 'gif'].includes(fileExtension)) {
                    mediaElement = document.createElement('img');
                    mediaElement.src = tempLinkResponse.result.link;
                    mediaElement.style.maxWidth = '100%';
                } else if (['mp4', 'mov', 'avi', 'mkv'].includes(fileExtension)) {
                    mediaElement = document.createElement('video');
                    mediaElement.src = tempLinkResponse.result.link;
                    mediaElement.controls = true;
                    mediaElement.style.maxWidth = '100%';
                }
                if (mediaElement) {
                    const wrapper = document.createElement('div');
                    wrapper.style.position = 'relative';
                    wrapper.style.display = 'inline-block';
                    wrapper.appendChild(mediaElement);
                    const user = auth.currentUser;
                    const userDoc = await getDoc(doc(db, "users", user.uid));
                    if (userDoc.exists() && userDoc.data().role === 'admin') {
                        const deleteButton = document.createElement('button');
                        deleteButton.innerText = 'x';
                        deleteButton.id = 'admin-button';
                        deleteButton.style.position = 'absolute';
                        deleteButton.style.top = '8px';
                        deleteButton.style.right = '8px';
                        deleteButton.style.backgroundColor = 'white';
                        deleteButton.style.color = 'grey';
                        deleteButton.style.border = 'none';
                        deleteButton.style.borderRadius = '50%';
                        deleteButton.style.cursor = 'pointer';
                        deleteButton.onclick = () => handleDeleteFile(file.path_lower);
                        wrapper.appendChild(deleteButton);
                    }
                    container.appendChild(wrapper);
                }
            }
        });
    } catch (error) {
        console.error('Error fetching folder contents:', error);
    }
}
//update file count
async function updateFileCount(folderPath, dbx) {
    try {
        const response = await dbx.filesListFolder({ path: folderPath });
        const files = response.result.entries;
        const fileCountElement = document.getElementById('file-count');
        if (fileCountElement) {
            fileCountElement.innerText = files.length;
        } else {
            console.error('Element with id "file-count" not found.');
        }
    } catch (error) {
        console.error('Error fetching file count:', error);
        const fileCountElement = document.getElementById('file-count');
        if (fileCountElement) {
            fileCountElement.innerText = 'Error fetching file count';
        }
    }
}
// Listen for authentication state changes
onAuthStateChanged(auth, async (user) => {
    // DOM Elements
    let publicElements = document.querySelectorAll("[data-onlogin='hide']");
    let privateElements = document.querySelectorAll("[data-onlogin='show']");
    let adminContents = document.getElementById('adminContents');
    let adminAccessMessage = document.getElementById('adminAccessMessage');
    let uploadButtonAdmin = document.getElementById('uploadButtonAdmin');
    let usersDisplayed = document.getElementById('users-displayed');
    if (user) {
        const uid = user.uid;
        // Show or hide elements based on authentication state
        privateElements.forEach(element => {
            element.style.display = "flex";
        });
        publicElements.forEach(element => {
            element.style.display = "none";
        });
        const userQuery = query(collection(db, "users"), where("uid", "==", uid));
        const querySnapshot = await getDocs(userQuery);
        if (!querySnapshot.empty) {
            const userDoc = querySnapshot.docs[0];
            const userData = userDoc.data();
            console.log(`User document data: ${JSON.stringify(userData)}`);
            if (userData.role === 'admin') {
                if (adminContents) {
                    adminContents.style.display = "flex";
                }
                if (adminAccessMessage) {
                    adminAccessMessage.style.display = "none";
                }
                if (uploadButtonAdmin) {
                    uploadButtonAdmin.style.display = "block";
                }
                if (usersDisplayed) {
                    usersDisplayed.style.display = "block";
                }
                await displayAllUsers(); // Display all users for admin
            } else {
                if (adminContents) {
                    adminContents.style.display = "none";
                }
                if (adminAccessMessage) {
                    adminAccessMessage.style.display = "block";
                }
                if (uploadButtonAdmin) {
                    uploadButtonAdmin.style.display = "none";
                }
                if (usersDisplayed) {
                    usersDisplayed.style.display = "none";
                }
            }
            const dbx = await getDropboxInstance();
            console.log('Calling fetchAndDisplayUserDropboxFolder from onAuthStateChanged');
            await fetchAndDisplayUserDropboxFolder(userData.folderPath, dbx);
            await updateFileCount(userData.folderPath, dbx);
            await updateTotalFileCount(dbx);
        } else {
            if (adminContents) {
                adminContents.style.display = "none";
            }
            if (adminAccessMessage) {
                adminAccessMessage.style.display = "block";
            }
            if (userDashboard) {
                userDashboard.style.display = "none";
            }
            if (uploadButtonAdmin) {
                uploadButtonAdmin.style.display = "none";
            }
            if (usersDisplayed) {
                usersDisplayed.style.display = "none";
            }
        }
        console.log(`The current user's UID is ${uid}`);
    } else {
        // If no user is signed in, adjust UI elements accordingly
        publicElements.forEach(element => {
            element.style.display = "initial";
        });
        privateElements.forEach(element => {
            element.style.display = "none";
        });
        privateElementsFlex.forEach(element => {
            element.style.display = "none";
        });
        if (adminContents) {
            adminContents.style.display = "none";
        }
        if (adminAccessMessage) {
            adminAccessMessage.style.display = "block";
        }
        if (userDashboard) {
            userDashboard.style.display = "none";
        }
        if (uploadButtonAdmin) {
            uploadButtonAdmin.style.display = "none";
        }
        if (usersDisplayed) {
            usersDisplayed.style.display = "none";
        }
    }
});
// Function to search Dropbox files and append results
async function searchDropboxFiles(startIndex = 1) {
  await refreshDropboxAccessToken(); // Ensure the access token is fresh
  let searchResults = [];
  try {
    if (!cursor) {
      // Initial search request
      const response = await fetch('https://api.dropboxapi.com/2/files/search_v2', {
        method: 'POST',
        headers: {
          'Authorization': `Bearer ${accessToken}`,
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          query: "family vacation",
          options: { max_results: 25, start: startIndex }
        })
      });
      if (response.ok) {
        const data = await response.json();
        searchResults = data.matches.map(match => match.metadata.metadata);
        cursor = data.cursor; // Save the cursor for the next request
      } else {
        console.error('Error searching Dropbox files:', response.statusText);
      }
    } else {
      // Continue from where we left off
      const response = await fetch('https://api.dropboxapi.com/2/files/search/continue_v2', {
        method: 'POST',
        headers: {
          'Authorization': `Bearer ${accessToken}`,
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ 
            query: "family vacation", 
            cursor: cursor, 
            options: { max_results: 25, start: startIndex }
        })
      });
      if (response.ok) {
        const data = await response.json();
        searchResults = data.matches.map(match => match.metadata.metadata);
        cursor = data.cursor; // Update cursor for the next request
      } else {
        console.error('Error continuing search for Dropbox files:', response.statusText);
      }
    }
  } catch (error) {
    console.error('Error during search or continue search:', error);
  }
  return searchResults;
}
let startIndex = 1;
// Function to append search results to the DOM
async function appendResults(results) {
    const container = document.getElementById('search-results');
    for (const file of results) {
        if (startIndex >= 25) { // Stop appending after 25 elements
        appendLoadMoreButton();
        break;
        }
        if (file['.tag'] === 'file') {
            const fileExtension = file.name.split('.').pop().toLowerCase();
            let format = 'jpeg'; // Default format
            if (['png', 'heic'].includes(fileExtension)) {
                format = fileExtension; // Use png or heic if applicable
            }
            if (['jpg', 'jpeg', 'png', 'gif', 'mp4', 'mov', 'avi', 'mkv'].includes(fileExtension)) {
                try {
                const tempLinkResponse = await fetch('https://api.dropboxapi.com/2/files/get_temporary_link', {
                    method: 'POST',
                    headers: {
                    'Authorization': `Bearer ${accessToken}`,
                    'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ path: file.path_lower })
                });
                const thumbnailResponse = await fetch('https://content.dropboxapi.com/2/files/get_thumbnail', {
                    method: 'POST',
                    headers: {
                    'Authorization': `Bearer ${accessToken}`,
                    'Dropbox-API-Arg': JSON.stringify({
                        path: file.path_lower,
                        format: format, // Choose your desired format
                        size: 'w640h480' // Choose your desired size (e.g., 'w128h128', 'w640h480')
                    })
                    }
                });
                if (!thumbnailResponse.ok) {
                    console.error('Error getting thumbnail:', thumbnailResponse.statusText);
                    continue;
                }
                if (tempLinkResponse.ok) {
                    const tempLinkData = await tempLinkResponse.json();
                    const previewData = await thumbnailResponse.blob();
                    let previewUrl = URL.createObjectURL(previewData);  // Use preview URL if available, otherwise temp link
                    // || tempLinkData.link
                    console.log('Thumbnail size:', previewData.size); // Log the size in bytes 
                    console.log(startIndex);
                    let mediaElement;
                    if (['jpg', 'jpeg', 'png', 'gif'].includes(fileExtension)) {
                    mediaElement = document.createElement('img');
                    // mediaElement.dataset.src = tempLinkData.link;
                    mediaElement.style.transition = 'all 0.3s ease-in-out';
                    mediaElement.src = previewUrl; // Use preview URL for initial loading
                    mediaElement.style.animation = 'fade-in 500ms forwards';
    				mediaElement.style.animationDelay = 'calc(0.1s * var(--))';
                    // mediaElement.setAttribute('data-src', tempLinkData.link); // Set temp link for lazy loading
                    // mediaElement.setAttribute('loading', 'lazy');
                    // mediaElement.style.maxWidth = '100%';
                    } else if (['mp4', 'mov', 'avi', 'mkv'].includes(fileExtension)) {
                    mediaElement = document.createElement('video');
                    // mediaElement.dataset.src = tempLinkData.link;
                    mediaElement.style.transition = 'all 0.3s ease-in-out';
                    mediaElement.src = previewUrl; // Use preview URL for initial loading
                    // mediaElement.setAttribute('data-src', tempLinkData.link); // Set temp link for lazy loading
                    // mediaElement.setAttribute('loading', 'lazy');
                    mediaElement.controls = true;
                    mediaElement.style.animation = 'fade-in 500ms forwards';
    				mediaElement.style.animationDelay = 'calc(0.1s * var(--))';
                    // mediaElement.style.maxWidth = '100%';
                    }
                    if (mediaElement) {
                    const wrapper = document.createElement('div');
                    wrapper.style.position = 'relative';
                    wrapper.style.display = 'inline-block';
                    wrapper.appendChild(mediaElement);
                    container.appendChild(wrapper);
                    // Increment the startIndex each time an element is added
                    startIndex++;
                    }
                } else {
                    console.error('Error getting temporary link:', tempLinkResponse.statusText);
                }
                } catch (error) {
                console.error('Error fetching temporary link:', error);
                }
            }
        }
    }
}
function appendLoadMoreButton() {
    const loadMoreButton = document.getElementById('load-more-button');
    loadMoreButton.style.display = 'flex';
    loadMoreButton.onclick = () => {
      startIndex = 0; // Reset the startIndex counter to 0 when the button is clicked
      loadMoreButton.style.display = 'none'; // Hide the button after clicking
      loadMoreFiles(); // Load more files
    };
  }
// Handle loading more files
async function loadMoreFiles() {
    const results = await searchDropboxFiles(startIndex);
    await appendResults(results);
}
// listeners
document.addEventListener('DOMContentLoaded', async function () {
    // remove admin button listener
    const removeAdminButton = document.getElementById('remove-admin-button');
    if (removeAdminButton) {
        removeAdminButton.addEventListener('click', handleRemoveAdmin);
    }
    //change password listener
    const changePasswordForm = document.getElementsByClassName('change-password-form');
    if (changePasswordForm.length > 0) {
        for (let i = 0; i < changePasswordForm.length; i++) {
            changePasswordForm[i].addEventListener('submit', handleChangePassword, true);
        }
    }
    // forgot password form listsneer
    const forgotPasswordForm = document.getElementById('forgot-password-form');
    if (forgotPasswordForm) {
        forgotPasswordForm.addEventListener('submit', handleForgotPassword, true);
    }
    // upload button listener
    const uploadButton = document.getElementById('uploadButton');
    if (uploadButton) {
        uploadButton.addEventListener('click', uploadImage);
    }
    // assign admin button listener
    const assignAdminButton = document.getElementById('assign-admin-button');
    if (assignAdminButton) {
        assignAdminButton.addEventListener('click', handleAssignAdmin);
    }
    // change email listener
    const changeEmailForm = document.getElementById('change-email-form');
    if (changeEmailForm) {
        changeEmailForm.addEventListener('submit', handleChangeEmail, true);
    }
})
// Initialize by loading the first set of files
loadMoreFiles();
// Add "Load More" button in a wrapper dynamically
const loadMoreWrapper = document.getElementById('load-more-wrapper');
const loadMoreButton = document.createElement('button');
loadMoreButton.id = 'load-more-button';
loadMoreButton.innerText = 'Load More';
loadMoreButton.style.display = 'none';
loadMoreButton.addEventListener('click', loadMoreFiles);
loadMoreWrapper.appendChild(loadMoreButton);
// Identify auth action forms
let signUpForm = document.getElementById('wf-form-signup-form');
let signInForm = document.getElementById('wf-form-signin-form');
let signOutButton = document.getElementById('signout-button');
// Assign event listeners if the elements exist
if (signUpForm) signUpForm.addEventListener('submit', handleSignUp, true);
if (signInForm) signInForm.addEventListener('submit', handleSignIn, true);
if (signOutButton) signOutButton.addEventListener('click', handleSignOut);
</script>
</head>
<body data-w-id="65ef6a9d933d09fb8c60475c" style="opacity:1;filter:blur(20px)" class="body-4">
  <div class="relative-body">
    <div class="short-custom-code">
      <div class="assign-admin-code w-embed w-script">
        <script type="module">
import { auth, db, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from 'https://maclellan-family-website.s3.us-east-2.amazonaws.com/firebase-init.js';
import { refreshDropboxAccessToken, createDropboxInstance, getDropboxInstance } from 'https://maclellan-family-website.s3.us-east-2.amazonaws.com/dropbox-auth.js';
//handles assignment of admins
async function handleAssignAdmin(e) {
    e.preventDefault();
    e.stopPropagation();
    const email = document.getElementById('assign-admin-email').value;
    try {
        const userQuery = query(collection(db, "users"), where("email", "==", email));
        const querySnapshot = await getDocs(userQuery);
        if (querySnapshot.empty) {
            const errorText = document.getElementById('assign-admin-error-message');
            errorText.innerHTML = "User not found.";
            return;
        }
        const userDoc = querySnapshot.docs[0];
        await updateDoc(userDoc.ref, {
            role: 'admin'
        });
        console.log('User role updated to admin: ' + email);
    } catch (error) {
        const errorMessage = error.message;
        const errorText = document.getElementById('assign-admin-error-message');
        console.log('Error during role assignment:', errorMessage);
        errorText.innerHTML = errorMessage;
    }
}
</script>
      </div>
      <div class="forgotton-password-code w-embed w-script">
        <script type="module">
import { auth, db, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from 'https://maclellan-family-website.s3.us-east-2.amazonaws.com/firebase-init.js';
import { refreshDropboxAccessToken, createDropboxInstance, getDropboxInstance } from 'https://maclellan-family-website.s3.us-east-2.amazonaws.com/dropbox-auth.js';
// handles forgottne password and emails you
async function handleForgotPassword(e) {
    e.preventDefault();
    e.stopPropagation();
    const email = document.getElementById('forgot-password-email').value;
    const forgotPasswordMessage = document.getElementById('forgot-password-message');
    try {
        await sendPasswordResetEmail(auth, email);
        forgotPasswordMessage.style.color = "green";
        forgotPasswordMessage.innerHTML = "Password reset email sent successfully. Please check your inbox.";
    } catch (error) {
        console.log('Error during password reset:', error.message);
        forgotPasswordMessage.style.color = "red";
        forgotPasswordMessage.innerHTML = error.message;
    }
}
</script>
      </div>
      <div class="get-all-users-code w-embed w-script">
        <script type="module">
import { auth, db, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from 'https://maclellan-family-website.s3.us-east-2.amazonaws.com/firebase-init.js';
import { refreshDropboxAccessToken, createDropboxInstance, getDropboxInstance } from 'https://maclellan-family-website.s3.us-east-2.amazonaws.com/dropbox-auth.js';
// gets all active users
async function displayAllUsers() {
    try {
        const usersDisplayed = document.getElementById('users-displayed');
        if (!usersDisplayed) {
            console.error('Element with id "users-displayed" not found.');
            return;
        }
        usersDisplayed.innerHTML = ''; // Clear existing content
        const querySnapshot = await getDocs(collection(db, "users"));
        querySnapshot.forEach((doc) => {
            const userData = doc.data();
            const userItem = document.createElement('div');
            userItem.className = 'user-item';
            userItem.innerText = userData.name;
            const removeButton = document.createElement('button');
            removeButton.innerText = 'REMOVE';
            removeButton.onclick = (e) => handleDeleteUser(e, userData.uid);
            userItem.appendChild(removeButton);
            usersDisplayed.appendChild(userItem);
        });
    } catch (error) {
        console.error('Error fetching users:', error);
    }
}
</script>
      </div>
    </div>
    <section data-onlogin="hide" data-w-id="3d7b48f8-4791-6a67-eb1a-5995c92b158a" style="-webkit-transform:translate3d(0, 100vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 100vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 100vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 100vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)" class="title-section">
      <div class="w-layout-blockcontainer container-17 w-container">
        <div data-w-id="bce61cd0-36c5-943a-1a56-33ca42fb618f" style="filter:blur(100px)" class="div-block-19">
          <h1 class="heading-10">Sign In</h1>
        </div>
      </div>
    </section>
    <div data-onlogin="show" data-w-id="35ace863-6eba-b173-1957-63c4cef2319b" class="w-layout-blockcontainer navbar container-15 w-container">
      <a data-w-id="59ed35dc-144c-0514-a973-17bd8d395621" href="#" class="button-5 w-button">Search</a>
      <a data-w-id="f4f145bb-891f-dda2-8998-5f51c4b3e980" href="#" class="button-5 family-gal w-button">Family Pictures</a>
      <a data-w-id="34de2174-e792-2d4d-d445-780e0a1006ea" href="#" class="button-5 w-button">Your Pictures</a>
      <a data-w-id="8928138f-968b-694a-9d59-cf81ae6e4581" href="#" class="button-5 w-button">Settings</a>
      <a id="signout-button" data-w-id="98b862cf-da94-cae1-6d91-440284ea5a36" href="#" class="auth-form__button-2 w-button">Sign Out</a>
    </div>
    <div data-onlogin="hide" class="sign-in-icon"><img src="images/home-1-min.png" loading="lazy" alt="" class="image-18"></div>
    <div data-onlogin="hide" class="sign-in-section">
      <div data-onlogin="hide" class="forms">
        <div class="auth-form__container-2">
          <div class="card__text-wrap">
            <div class="w-form">
              <form id="wf-form-signin-form" name="wf-form-Sign-In-Form" data-name="Sign In Form" redirect="https://coombs-family.design.webflow.com/" data-redirect="https://coombs-family.design.webflow.com/" method="post" class="signin-form" data-wf-page-id="65ef6a9d933d09fb8c604757" data-wf-element-id="cf84f919-fb02-9f67-305e-582b9125aa69">
                <h1 class="heading-13">Welcome Back!</h1>
                <div class="text-block-4">Sign in to our family gallery!</div><input class="text-field w-input" maxlength="256" name="signin-email-2" data-name="Signin Email 2" placeholder="Email" type="email" id="signin-email" required=""><input class="text-field w-input" maxlength="256" name="signin-password-2" data-name="Signin Password 2" placeholder="Password" type="password" id="signin-password" required=""><input type="submit" data-wait="Please wait..." id="signin_button" data-w-id="cf84f919-fb02-9f67-305e-582b9125aa70" class="auth-form__button w-button" value="Sign In">
              </form>
              <div class="w-form-done">
                <div>Thank you! Your submission has been received!</div>
              </div>
              <div class="w-form-fail">
                <div>Oops! Something went wrong while submitting the form.</div>
              </div>
            </div>
            <div class="signup-prompt">
              <div>Don&#x27;t have an account?</div>
              <a data-w-id="3459c49e-63e1-e757-168c-3b9c18ad14ab" href="#" class="button-7 w-button">Signup</a>
            </div>
          </div>
          <div class="forgotpassworddiv">
            <div>Forgot Password? </div>
            <a data-w-id="bdd312ca-d681-b218-f207-3ed6a6228da5" href="#" class="button-8 w-button">Click here to reset.</a>
          </div>
        </div>
        <div class="auth-form__container">
          <div class="card__text-wrap">
            <div class="form-block-3 w-form">
              <form id="wf-form-signup-form" name="wf-form-signup-form" data-name="signup-form" method="post" class="signup-form" data-wf-page-id="65ef6a9d933d09fb8c604757" data-wf-element-id="aa00c5d4-383b-f8e0-b021-8a3c6c448734">
                <h1 class="heading-13">New here? Sign Up!</h1>
                <div class="text-block-3">Sign up for a new account!</div><input class="text-field w-input" maxlength="256" name="sign-up-name" data-name="sign-up-name" placeholder="Name" type="text" id="signup-name" required=""><input class="text-field w-input" maxlength="256" name="sign-up-email" data-name="sign-up-email" placeholder="Email" type="email" id="signup-email" required=""><input class="text-field w-input" maxlength="256" name="sign-in-password" data-name="sign-in-password" placeholder="Password" type="password" id="signup-password" required=""><input type="submit" data-wait="Please wait..." id="signup-button" class="auth-form__button-copy w-button" value="Sign Up">
                <div class="signup-prompt">
                  <div>Have an account?</div>
                  <a data-w-id="ae630f52-1657-5fdd-1152-7f108e4163b5" href="#" class="button-7-copy w-button">Sign in</a>
                </div>
              </form>
              <div class="w-form-done">
                <div>Thank you! Your submission has been received!</div>
              </div>
              <div class="w-form-fail">
                <div>Oops! Something went wrong while submitting the form.</div>
              </div>
            </div>
          </div>
        </div>
        <div style="-webkit-transform:translate3d(50%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(50%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(50%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(50%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);display:block" class="cover-for-each-form"></div>
      </div>
    </div>
    <div style="display:none;opacity:0" class="forgotpasswordsection">
      <h1 class="heading-16">Reset Your Password</h1>
      <div class="text-block-5">Type in the email your account was associated with to reset your password.</div>
      <div id="forgot-password-form" class="form-block-4 w-form">
        <form id="email-form-2" name="email-form-2" data-name="Email Form 2" method="get" class="form-3" data-wf-page-id="65ef6a9d933d09fb8c604757" data-wf-element-id="e5423169-1c81-4d2c-1ff1-3c0f6bf20866"><input class="text-field-2 w-input" maxlength="256" name="email" data-name="Email" placeholder="Enter Your Email" type="email" id="forgot-password-email" required=""><input type="submit" data-wait="Please wait..." class="submit-button w-button" value="Submit">
          <p id="forgot-password-message"><br></p>
        </form>
        <div class="w-form-done">
          <div>Thank you! Your submission has been received!</div>
        </div>
        <div class="w-form-fail">
          <div>Oops! Something went wrong while submitting the form.</div>
        </div>
      </div>
      <div data-w-id="60413b96-9d6a-a7f2-04e0-1a63185567ba" class="close-out"></div>
    </div>
    <div id="familyPicturesSection" data-onlogin="show" style="display:flex;opacity:1;-webkit-transform:translate3d(0, 0vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 0vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 0vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 0vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)" class="search-page">
      <div class="family-section-desc-al-pics">
        <h1 class="heading-14">Browse through everything.</h1>
        <div class="text-block-8">Search for your greatest memories.</div>
        <div class="form-block-6 w-form">
          <form id="email-form-3" name="email-form-3" data-name="Email Form 3" method="post" class="form-7" data-wf-page-id="65ef6a9d933d09fb8c604757" data-wf-element-id="eadc78a5-792e-e8cc-310f-c8c2b564261d"><input class="search-input w-input" maxlength="256" name="name" data-name="Name" placeholder="Search" type="text" id="name"><input type="submit" data-wait="Please wait..." class="search-button w-button" value="Find"></form>
          <div class="w-form-done">
            <div>Thank you! Your submission has been received!</div>
          </div>
          <div class="w-form-fail">
            <div>Oops! Something went wrong while submitting the form.</div>
          </div>
        </div>
        <form action="/search" class="search-2 w-form"><input class="search-input w-input" autofocus="true" maxlength="256" name="query" placeholder="2014 Hawaii..." type="search" id="search-bar" required=""><input type="submit" class="search-button-copy w-button" value="Find">
          <a id="search-button" href="#" class="search-button w-button">Find</a>
        </form>
        <div class="divider"></div>
      </div>
      <div data-onlogin="show" style="opacity:1" class="search-icon"><img src="images/search.png" loading="lazy" data-onlogin="show" alt="" class="image-18"></div>
      <div class="div-block-24">
        <div class="code-for-search-results-style w-embed">
          <style>
        #search-results > div, #user-pictures-container > div {
            max-width: 100%;
            max-height: 100%;
        }
        img, video {
            border-radius: 10px;
            border-color: black;
            border: 3px;
            max-width: 100%;
            max-height: 350px;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
          <style>
/* Container for search results */
#search-results {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); /* Dynamic columns based on available space */
    gap: 15px; /* Space between grid items */
    margin: 20px;
}
/* Wrapper for each media item */
#search-results > div {
    position: relative;
    overflow: hidden;
    border-radius: 8px; /* Rounded corners */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow effect */
    background-color: #fff; /* Background for each item */
    transition: transform 0.3s ease, box-shadow 0.3s ease; /* Hover animation */
    animation: fade-in 500ms forwards;
    animation-delay: calc(0.1s * var(--));
}
/* Media element styles (images/videos) */
#search-results img, 
#search-results video {
    width: 100%;
    height: auto;
    display: block;
    object-fit: cover; /* Ensure media fills the space */
    border-radius: 8px;
    cursor: pointer;
    animation: fade-in 500ms forwards;
    animation-delay: calc(0.1s * var(--));
}
/* Hover effect for media items */
#search-results > div:hover {
    transform: translateY(-5px); /* Lift effect on hover */
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); /* Enhanced shadow on hover */
}
/* Load More button styles */
#load-more-wrapper {
    display: flex;
    justify-content: center;
    margin: 20px 0;
}
#load-more-wrapper button {
    padding: 10px 20px;
    font-size: 16px;
    background-color: #007bff; /* Button color */
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease; /* Smooth transition for hover */
    animation: fade-in 500ms forwards;
    animation-delay: calc(0.1s * var(--));
}
/* Hover effect for Load More button */
#load-more-wrapper button:hover {
    background-color: #0056b3; /* Darker blue on hover */
}
/* Responsive styling */
@media (max-width: 600px) {
    #search-results {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); /* Adjust for smaller screens */
    }
}
</style>
        </div>
        <div class="code-for-search-results-style-interactions w-embed w-script">
          <style>
        #search-results img, #search-results video {
            width: 100%;
            height: 100%;
            max-width: 100%;
            border-radius: 16px;
            transition: opacity 0.3s ease, transform 0.3s ease;
            cursor: pointer;
        }
        #search-results img:hover, #search-results video:hover {
            opacity: 0.85;
        }
    </style>
          <script>
        document.addEventListener('DOMContentLoaded', function() {
            const container = document.getElementById('search-results');
            if (!container) {
                console.error('Container not found');
                return;
            }
            container.addEventListener('click', function(event) {
                const target = event.target;
                if (target.tagName === 'IMG' || target.tagName === 'VIDEO') {
                    event.stopPropagation(); // Prevent the click event from bubbling up
                    openInNewTab(target);
                }
            });
            function openInNewTab(mediaElement) {
                const url = mediaElement.src;
                const mediaType = mediaElement.tagName.toLowerCase();
                const newWindow = window.open('', '_blank');
                const styles = `
                    <style>
                        body { margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; background: black; }
                        img, video { max-width: 100%; max-height: 100%; object-fit: contain; }
                    </style>
                `;
                if (mediaType === 'img') {
                    newWindow.document.write(`
                        ${styles}
                        <img src="${url}">
                    `);
                } else if (mediaType === 'video') {
                    newWindow.document.write(`
                        ${styles}
                        <video controls>
                            <source src="${url}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    `);
                }
                newWindow.document.close();
            }
        });
    </script>
        </div>
        <div id="uploadButtonAdmin" class="upload-for-admin-code w-embed w-script">
          <style>
  .fileInput {
    border: 2px solid black;
    border-radius: 100px;
    background-color: white;
    padding: 10px;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
    overflow:show;
  }
  .fileInput:hover {
    transform: translateY(-3px);
    box-shadow: 0 3px 0 black;
  }
  .uploadButton{
  	padding-left: 20px;
    padding-right: 20px;
    padding-top: 8px;
    padding-bottom: 8px;
    background-color: #5788de;
    border-radius: 100px;
    color: white;
  }
  .upload-container{
  	display: flex;
    justify-content: center;
    align-items: center;
  }
</style>
          <script>
async function uploadImage() {
    const fileInput = document.getElementById('fileInput');
    const file = fileInput.files[0];
    if (!file) {
        alert('Please select a file.');
        return;
    }
    const reader = new FileReader();
    reader.onload = async function(event) {
        const base64Image = event.target.result.split(',')[1];
        await refreshDropboxAccessToken(); // Ensure the token is fresh before uploading
        const dropboxPath = '/' + file.name;
        try {
            const response = await axios.post('https://content.dropboxapi.com/2/files/upload', base64Image, {
                headers: {
                    'Authorization': `Bearer ${accessToken}`,
                    'Dropbox-API-Arg': JSON.stringify({
                        path: dropboxPath,
                        mode: 'add',
                        autorename: true,
                        mute: false
                    }),
                    'Content-Type': 'application/octet-stream'
                }
            });
            console.log('File uploaded:', response.data);
            alert('File uploaded successfully.');
            window.location.reload();
            loadMoreFiles(); // Refresh media container
        } catch (error) {
            console.error('Error uploading file:', error);
            alert('Failed to upload file.');
        }
    };
    reader.readAsDataURL(file);
}
</script>
          <h4>Upload to this year.</h4>
          <div id="upload-container">
            <input class="fileInput" type="file" id="fileInput" accept="image/*, video/*">
            <button class="uploadButton" ,="" id="uploadButton">Upload</button>
          </div>
        </div>
        <div id="search-results" class="family-photos-container"></div>
        <div id="load-more-wrapper" class="load-more-wrapper"></div>
      </div>
    </div>
    <div id="familyPicturesSection" data-onlogin="show" data-w-id="9909e722-0319-1ba1-0880-0f50e4a1cda5" style="display:none;-webkit-transform:translate3d(0, 100vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 100vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 100vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 100vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);opacity:0" class="family-gallery">
      <div data-onlogin="show" class="family-section-icon"><img src="images/family-min.png" loading="lazy" alt="" class="image-18"></div>
      <div class="years-slider">
        <div class="years-camera">
          <div id="Years" class="years"></div>
        </div>
        <a id="left-arrow" href="#" class="left-arrow w-inline-block">
          <div class="icon-2 w-icon-slider-left"></div>
        </a>
        <a id="right-arrow" href="#" class="right-arrow w-inline-block">
          <div class="icon w-icon-slider-left"></div>
        </a>
      </div>
    </div>
    <div data-w-id="fde0dfa1-e40a-c1e4-8ac9-f66fefca3a3d" style="display:none;opacity:0;-webkit-transform:translate3d(0, 100vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 100vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 100vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 100vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)" class="your-gallery-section">
      <div class="spline-scene" data-w-id="ea6558ea-61ff-2533-cdd5-8e3cc525b703" data-animation-type="spline" data-spline-url="https://prod.spline.design/cIGfnn-qUthNSGiI/scene.splinecode"><canvas></canvas></div>
      <div data-onlogin="show" class="your-pictures-icon"><img src="images/user-2-min.png" loading="lazy" alt="" class="image-18"></div>
      <div class="your-gallery-section-copy">
        <div id="your-years-pictures" class="years-your-pictures"></div>
        <div id="colorFadeDivYourPictures" class="your-pictures-background">
          <p class="paragraph-6">Only you can see these!</p>
          <h1 class="heading-15">Your Pictures</h1>
          <div class="divider"></div>
          <p class="paragraph-7">Welcome to the &quot;Your Pictures&quot; section, where we celebrate the moments that mean the most to you. These photos capture the unique and personal experiences that make up your life story. From special occasions and adventures to everyday smiles and laughter, each image tells a part of your journey. Relive your cherished memories and appreciate the beauty of the moments that have shaped who you are.</p>
          <div id="w-node-b2b6abbc-3335-6d5e-cf3b-39e4c12cb34d-8c604757" class="code-for-colorfading-div w-embed">
            <style>
        @keyframes colorFade {
            0% { background-color: #FFB3BA; }
            10% { background-color: #FFDFBA; }
            20% { background-color: #FFFFBA; }
            30% { background-color: #BAFFC9; }
            40% { background-color: #BAE1FF; }
            50% { background-color: #E6E6FA; }
            60% { background-color: #FFFACD; }
            70% { background-color: #FFE4E1; }
            80% { background-color: #F0E68C; }
            90% { background-color: #D8BFD8; }
            100% { background-color: #FFB3BA; }
        }
        #colorFadeDivYourPictures {
            width: 100%;
            height: auto;
            animation: colorFade 40s infinite;
        }
    </style>
          </div>
        </div>
        <div id="user-pictures-container" class="user-s-pictures-container"></div>
        <div class="code-to-handle-the-style-and-animationsof-users-pictures w-embed w-script">
          <!DOCTYPE html>
          <html lang="en">
          <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Full Screen Media View</title>
            <style>
        #user-pictures-container img, #user-pictures-container video {
            width: 100%;
            height: 100%;
            max-width: 100%;
            border-radius: 16px;
            transition: opacity 0.3s ease, transform 0.3s ease;
            cursor: pointer;
        }
        #user-pictures-container img:hover, #user-pictures-container video:hover {
            opacity: 0.85;
        }
    </style>
          </head>
          <body>
            <div id="user-pictures-container"></div>
            <script>
        document.addEventListener('DOMContentLoaded', function() {
            const container = document.getElementById('user-pictures-container');
            if (!container) {
                console.error('Container not found');
                return;
            }
            container.addEventListener('click', function(event) {
                const target = event.target;
                if (target.tagName === 'IMG' || target.tagName === 'VIDEO') {
                    event.stopPropagation(); // Prevent the click event from bubbling up
                    openInNewTab(target);
                }
            });
            function openInNewTab(mediaElement) {
                const url = mediaElement.src;
                const mediaType = mediaElement.tagName.toLowerCase();
                const newWindow = window.open('', '_blank');
                const styles = `
                    <style>
                        body { margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; background: black; }
                        img, video { max-width: 100%; max-height: 100%; object-fit: contain; }
                    </style>
                `;
                if (mediaType === 'img') {
                    newWindow.document.write(`
                        ${styles}
                        <img src="${url}">
                    `);
                } else if (mediaType === 'video') {
                    newWindow.document.write(`
                        ${styles}
                        <video controls>
                            <source src="${url}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    `);
                }
                newWindow.document.close();
            }
        });
    </script>
          </body>
          </html>
        </div>
      </div>
    </div>
    <div data-w-id="0d37d9bc-e9ab-48f6-6881-5a1484e0f16b" style="display:none;-webkit-transform:translate3d(0, 100vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 100vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 100vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 100vh, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);opacity:0" class="admin-panel">
      <div class="admin-contents">
        <div class="middle">
          <div class="middle-wrap">
            <div class="middle-heading__flex">
              <div>
                <h2>Welcome to your settings.</h2>
                <p>This is where you can change your email, password, and if you&#x27;re an admin... well let&#x27;s say you have more perks.</p>
              </div>
            </div>
            <div id="adminContents" class="summary">
              <div data-onlogin="show" class="admin-icon"><img src="images/admin-panel-min.png" loading="lazy" alt="" class="image-18"></div>
              <div class="email-checker-example-code-div">
                <div class="w-embed w-script"><!--  Check Email Form  -->
                  <div id="check-email-container">
                    <h2>Check Email in Firestore</h2>
                    <form id="check-email-form">
                      <label for="check-email">Email:</label>
                      <input type="email" id="check-email" required="">
                      <br>
                      <button type="submit" id="check-email-button">Check Email</button>
                      <p id="check-email-message" style="color: red;"></p>
                    </form>
                  </div>
                  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
    import { getFirestore, collection, query, where, getDocs } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyB5DMIx5yWtZJsZFrNFjkFc68rtWDzdW_k",
      authDomain: "tina-coombs-site.firebaseapp.com",
      databaseURL: "https://tina-coombs-site-default-rtdb.firebaseio.com",
      projectId: "tina-coombs-site",
      storageBucket: "tina-coombs-site.appspot.com",
      messagingSenderId: "414945778846",
      appId: "1:414945778846:web:38d525b62f09bf215f6f8f"
    };
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    // Function to check if email exists in Firestore
    async function checkEmailInFirestore(e) {
      e.preventDefault();
      e.stopPropagation();
      const email = document.getElementById('check-email').value;
      const messageElement = document.getElementById('check-email-message');
      try {
        const userQuery = query(collection(db, "users"), where("email", "==", email));
        const querySnapshot = await getDocs(userQuery);
        if (!querySnapshot.empty) {
          messageElement.style.color = "green";
          messageElement.innerHTML = "Email found in Firestore.";
        } else {
          messageElement.style.color = "red";
          messageElement.innerHTML = "Email not found in Firestore.";
        }
      } catch (error) {
        const errorMessage = error.message;
        console.log(errorMessage);
        messageElement.style.color = "red";
        messageElement.innerHTML = "An error occurred: " + errorMessage;
      }
    }
    // Add event listener to the form
    const checkEmailForm = document.getElementById('check-email-form');
    if (checkEmailForm !== null) {
      checkEmailForm.addEventListener('submit', checkEmailInFirestore);
    }
  </script>
                </div>
              </div>
              <div class="stats-top">
                <div class="stat-top__card">
                  <div class="stat-top__l"><img src="images/arrow-top.svg" loading="lazy" alt="" class="image-19"></div>
                  <div class="stat-top__r">
                    <p class="p-12 text-light">Users Signed Up</p>
                    <p id="user-count" class="mt-10"><br></p>
                    <div class="code-embed-7 w-embed w-script">
                      <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
    import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";
    const firebaseConfig = {
        apiKey: "AIzaSyB5DMIx5yWtZJsZFrNFjkFc68rtWDzdW_k",
        authDomain: "tina-coombs-site.firebaseapp.com",
        databaseURL: "https://tina-coombs-site-default-rtdb.firebaseio.com",
        projectId: "tina-coombs-site",
        storageBucket: "tina-coombs-site.appspot.com",
        messagingSenderId: "414945778846",
        appId: "1:414945778846:web:38d525b62f09bf215f6f8f"
    };
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    async function displayUserCount() {
        try {
            const querySnapshot = await getDocs(collection(db, "users"));
            const userCount = querySnapshot.size;
            document.getElementById('user-count').innerText = `${userCount}`;
        } catch (error) {
            console.error('Error fetching user count:', error);
        }
    }
    document.addEventListener('DOMContentLoaded', (event) => {
        displayUserCount();
    });
</script>
                    </div>
                  </div>
                </div>
                <div class="stat-top__card">
                  <div class="stat-top__l yellow"><img src="images/arrow-bot.svg" loading="lazy" alt="" class="image-20"></div>
                  <div class="stat-top__r">
                    <p class="p-12 text-light">Total Pictures Uploaded</p>
                    <p id="file-count" class="mt-10"><br></p>
                  </div>
                </div>
                <div class="stat-top__card">
                  <div class="stat-top__l gren"><img src="images/hourglass.svg" loading="lazy" alt="" class="image-21"></div>
                  <div class="stat-top__r">
                    <p class="p-12 text-light">Total Files</p>
                    <p id="total-file-count" class="mt-10"><br></p>
                  </div>
                </div>
              </div>
              <div class="assign-admin-access-div">
                <div id="assignRoleAdmin" class="code-to-handle-admin-assign-access w-embed w-script">
                  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
    import { getFirestore, collection, query, where, getDocs, updateDoc } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyB5DMIx5yWtZJsZFrNFjkFc68rtWDzdW_k",
      authDomain: "tina-coombs-site.firebaseapp.com",
      databaseURL: "https://tina-coombs-site-default-rtdb.firebaseio.com",
      projectId: "tina-coombs-site",
      storageBucket: "tina-coombs-site.appspot.com",
      messagingSenderId: "414945778846",
      appId: "1:414945778846:web:38d525b62f09bf215f6f8f"
    };
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    // Function to handle assign admin role
    async function handleAssignAdmin(e) {
      e.preventDefault();
      e.stopPropagation();
      const email = document.getElementById('assign-admin-email').value;
      const messageElement = document.getElementById('assign-admin-message');
      try {
        // Get user document from Firestore
        const userQuery = query(collection(db, "users"), where("email", "==", email));
        const querySnapshot = await getDocs(userQuery);
        if (querySnapshot.empty) {
          messageElement.style.color = "red";
          messageElement.innerHTML = "User not found.";
          return;
        }
        const userDoc = querySnapshot.docs[0];
        // Update user role to admin
        await updateDoc(userDoc.ref, {
          role: 'admin'
        });
        messageElement.style.color = "green";
        messageElement.innerHTML = "User role updated to admin: " + email;
        console.log('User role updated to admin: ' + email);
      } catch (error) {
        const errorMessage = error.message;
        messageElement.style.color = "red";
        console.log(errorMessage);
        messageElement.innerHTML = "An error occurred: " + errorMessage;
      }
    }
    // Add event listener to the form
    const assignAdminForm = document.getElementById('assign-admin-form');
    if (assignAdminForm !== null) {
      assignAdminForm.addEventListener('submit', handleAssignAdmin);
    }
  </script>
                </div>
                <div id="wf-form-Email" class="add-admin-div-wrapper">
                  <h1 class="heading-17">Add Admin Role:</h1>
                  <div class="change-your-email-code w-embed w-script">
                    <script type="module">
  import { auth, db } from 'https://maclellan-family-website.s3.us-east-2.amazonaws.com/firebase-init.js';
  import { EmailAuthProvider, reauthenticateWithCredential, updateEmail, sendEmailVerification } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js";
  import { doc, updateDoc } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";
  // Function to handle email change
  async function handleChangeEmail() {
    const currentPasswordForEmailChange = document.getElementById('current-password-email-change').value;
    const newEmail = document.getElementById('new-email').value;
    const user = auth.currentUser;
    const changeEmailMessage = document.getElementById('change-email-message');
    if (user) {
      const credential = EmailAuthProvider.credential(user.email, currentPasswordForEmailChange);
      try {
        console.log('Reauthenticating user...');
        await reauthenticateWithCredential(user, credential);
        console.log('Reauthentication successful. Updating email...');
        await updateEmail(user, newEmail);
        console.log('Email updated in Firebase Auth.');
        // Send verification email
        await sendEmailVerification(user);
        console.log('Verification email sent.');
        // Update the Firestore user document
        const userDocRef = doc(db, "users", user.uid);
        await updateDoc(userDocRef, {
          email: newEmail
        });
        console.log('Email updated in Firestore.');
        changeEmailMessage.style.color = "green";
        changeEmailMessage.textContent = "Email successfully updated. Please check your inbox to verify your new email.";
      } catch (error) {
        console.log('Error during email change:', error.message);
        changeEmailMessage.textContent = error.message;
      }
    } else {
      changeEmailMessage.textContent = "No user is currently signed in.";
    }
  }
  // Add event listener to the button
  const changeEmailButton = document.getElementById('change-email-button');
  if (changeEmailButton) {
    changeEmailButton.addEventListener('click', handleChangeEmail);
  }
</script>
                  </div>
                  <div class="add-admin-email-form w-embed"><input type="password" id="assign-admin-email" placeholder="User's Email" required=""></div>
                  <a id="assign-admin-button" href="#" class="submit-button-4 w-button">Add</a>
                  <p id="assign-admin-message"><br></p>
                </div>
                <div id="wf-form-Email" class="add-admin-div-wrapper">
                  <h1 class="heading-17">Remove Admin Role:</h1>
                  <div class="remove-admin-code w-embed w-script">
                    <script type="module">
  import { auth, db } from 'https://maclellan-family-website.s3.us-east-2.amazonaws.com/firebase-init.js';
  import { EmailAuthProvider, reauthenticateWithCredential, updateEmail, sendEmailVerification } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js";
  import { doc, updateDoc } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";
  // Function to handle email change
  async function handleChangeEmail() {
    const currentPasswordForEmailChange = document.getElementById('current-password-email-change').value;
    const newEmail = document.getElementById('new-email').value;
    const user = auth.currentUser;
    const changeEmailMessage = document.getElementById('change-email-message');
    if (user) {
      const credential = EmailAuthProvider.credential(user.email, currentPasswordForEmailChange);
      try {
        console.log('Reauthenticating user...');
        await reauthenticateWithCredential(user, credential);
        console.log('Reauthentication successful. Updating email...');
        await updateEmail(user, newEmail);
        console.log('Email updated in Firebase Auth.');
        // Send verification email
        await sendEmailVerification(user);
        console.log('Verification email sent.');
        // Update the Firestore user document
        const userDocRef = doc(db, "users", user.uid);
        await updateDoc(userDocRef, {
          email: newEmail
        });
        console.log('Email updated in Firestore.');
        changeEmailMessage.style.color = "green";
        changeEmailMessage.textContent = "Email successfully updated. Please check your inbox to verify your new email.";
      } catch (error) {
        console.log('Error during email change:', error.message);
        changeEmailMessage.textContent = error.message;
      }
    } else {
      changeEmailMessage.textContent = "No user is currently signed in.";
    }
  }
  // Add event listener to the button
  const changeEmailButton = document.getElementById('change-email-button');
  if (changeEmailButton) {
    changeEmailButton.addEventListener('click', handleChangeEmail);
  }
</script>
                  </div>
                  <div class="remove-email-form w-embed"><input type="password" id="remove-admin-email" placeholder="User's Email" required=""></div>
                  <a id="removeAdminButton" href="#" class="remove-admin-button w-button">Remove</a>
                  <p id="remove-admin-message"><br></p>
                </div>
              </div>
              <h1>Users Signed Up:</h1>
              <div id="users-displayed" class="users-display"></div>
              <div class="code-embed-10 w-embed w-script"><!--  HTML for Admin Features  -->
                <div id="admin-view-users" style="display: none;">
                  <h2>All Users</h2>
                  <table id="users-table">
                    <thead>
                      <tr>
                        <th>Email</th>
                        <th>Role</th>
                        <th>Registration Date</th>
                        <th>Actions</th>
                      </tr>
                    </thead>
                    <tbody id="users-list">
                      <!--  User rows will be dynamically added here  -->
                    </tbody>
                  </table>
                </div>
                <!--  Usage Statistics  -->
                <div id="usage-statistics" style="display: none;">
                  <h2>Usage Statistics</h2>
                  <p>Total Users: <span id="total-users"></span></p>
                  <p>Total Admins: <span id="total-admins"></span></p>
                  <p>Total Active Users: <span id="total-active-users"></span></p>
                </div>
                <!--  Modal for Editing User Details  -->
                <div id="edit-user-modal" style="display: none;">
                  <form id="edit-user-form">
                    <input type="hidden" id="edit-user-id">
                    <label for="edit-user-email">Email:</label>
                    <input type="email" id="edit-user-email" required="">
                    <label for="edit-user-role">Role:</label>
                    <select id="edit-user-role" required="">
                      <option value="user">User</option>
                      <option value="admin">Admin</option>
                    </select>
                    <button type="submit">Save</button>
                    <button type="button" onclick="document.getElementById('edit-user-modal').style.display='none'">Cancel</button>
                  </form>
                </div>
                <script type="module">
    // Event listener for the edit user form
    document.getElementById('edit-user-form').addEventListener('submit', saveUserDetails);
</script>
              </div>
            </div>
            <div class="div-block-25">
              <div class="change-email-form">
                <h1 class="heading-19">Change Email:</h1>
                <div class="change-your-email-code w-embed w-script">
                  <script type="module">
  import { auth, db } from 'https://maclellan-family-website.s3.us-east-2.amazonaws.com/firebase-init.js';
  import { EmailAuthProvider, reauthenticateWithCredential, updateEmail, sendEmailVerification } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js";
  import { doc, updateDoc } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";
  // Function to handle email change
  async function handleChangeEmail() {
    const currentPasswordForEmailChange = document.getElementById('current-password-email-change').value;
    const newEmail = document.getElementById('new-email').value;
    const user = auth.currentUser;
    const changeEmailMessage = document.getElementById('change-email-message');
    if (user) {
      const credential = EmailAuthProvider.credential(user.email, currentPasswordForEmailChange);
      try {
        console.log('Reauthenticating user...');
        await reauthenticateWithCredential(user, credential);
        console.log('Reauthentication successful. Updating email...');
        await updateEmail(user, newEmail);
        console.log('Email updated in Firebase Auth.');
        // Send verification email
        await sendEmailVerification(user);
        console.log('Verification email sent.');
        // Update the Firestore user document
        const userDocRef = doc(db, "users", user.uid);
        await updateDoc(userDocRef, {
          email: newEmail
        });
        console.log('Email updated in Firestore.');
        changeEmailMessage.style.color = "green";
        changeEmailMessage.textContent = "Email successfully updated. Please check your inbox to verify your new email.";
      } catch (error) {
        console.log('Error during email change:', error.message);
        changeEmailMessage.textContent = error.message;
      }
    } else {
      changeEmailMessage.textContent = "No user is currently signed in.";
    }
  }
  // Add event listener to the button
  const changeEmailButton = document.getElementById('change-email-button');
  if (changeEmailButton) {
    changeEmailButton.addEventListener('click', handleChangeEmail);
  }
</script>
                </div>
                <div class="change-email-inputs w-embed"><input type="password" id="current-password-email-change" placeholder="Current Password" required="">
                  <input type="email" id="new-email" placeholder="New Email" required="">
                </div>
                <a id="change-email-button" href="#" class="submit-button-2 w-button">Change</a>
                <p id="change-email-message"><br></p>
              </div>
              <div class="change-password-form">
                <h1 class="heading-19">Change Password:</h1>
                <div class="change-password-code w-embed w-script">
                  <script type="module">
  import { EmailAuthProvider, reauthenticateWithCredential, updatePassword } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js";
  import { auth } from 'https://maclellan-family-website.s3.us-east-2.amazonaws.com/firebase-init.js';
  // Function to handle password change
  async function handleChangePassword() {
    const currentPassword = document.getElementById('current-password').value;
    const newPassword = document.getElementById('new-password').value;
    const user = auth.currentUser;
    const changePasswordMessage = document.getElementById('change-password-message');
    if (user) {
      const credential = EmailAuthProvider.credential(user.email, currentPassword);
      try {
        await reauthenticateWithCredential(user, credential);
        await updatePassword(user, newPassword);
        changePasswordMessage.style.color = "green";
        changePasswordMessage.textContent = "Password successfully updated.";
      } catch (error) {
        console.error('Error during password change:', error.message);
        changePasswordMessage.textContent = "Error updating password: " + error.message;
      }
    } else {
      changePasswordMessage.textContent = "No user is currently signed in.";
    }
  }
  // Add event listener to the button
  const changePasswordButton = document.getElementById('change-password-button');
  if (changePasswordButton) {
    changePasswordButton.addEventListener('click', handleChangePassword);
  }
</script>
                </div>
                <div class="change-password-inputs w-embed"><input type="password" id="current-password" placeholder="Current Password" required="">
                  <input type="password" id="new-password" placeholder="New Password" required="">
                </div>
                <a id="change-password-button" href="#" class="submit-button-2 w-button">Change</a>
                <p id="change-password-message"><br></p>
              </div>
              <div class="delete-account-form">
                <h1 class="heading-19">Delete My Account:</h1>
                <div class="w-embed"><input type="email" id="delete-email" placeholder="Delete Email" required="">
                  <input type="password" id="delete-password" placeholder="Delete Password" required="">
                </div>
                <a id="delete-user-button" href="#" class="submit-button-2 w-button">Delete</a>
                <p id="change-password-message"><br></p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="admin-error-message">
        <div>Normal Settings<br></div>
      </div>
    </div>
    <div id="pics-display" class="pictures-list-display">
      <div class="interactive-exit-div"></div>
      <div class="display-pictures-div"></div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=65ef6a9d933d09fb8c604750" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <!--  Carousel for family  -->
  <script>
        const leftArrow = document.getElementById('left-arrow');
        const rightArrow = document.getElementById('right-arrow');
        const years = document.querySelector('.years');
        let index = 0;
        function showSlide(newIndex) {
            const items = document.querySelectorAll('.year-item');
            if (newIndex < 0) {
                index = items.length - 1;
            } else if (newIndex >= items.length) {
                index = 0;
            } else {
                index = newIndex;
            }
            years.style.transform = `translateX(-${index * 100}%)`;
        }
        leftArrow.addEventListener('click', () => {
            showSlide(index - 1);
        });
        rightArrow.addEventListener('click', () => {
            showSlide(index + 1);
        });
        setInterval(() => {
            showSlide(index + 1);
        }, 4000);
    </script>
  <script>
        // This script prints a custom message to the browser console
        (function() {
            console.log('%cCreated by WebRend and Kevin Vera', 'color: green; font-size: 20px; font-weight: bold;');
        })();
    </script>
  <!--  SCROLLBAR CSS  -->
  <style>
/* For WebKit browsers (Chrome, Safari) */
::-webkit-scrollbar {
  width: 12px; /* Adjust the width of the scrollbar */
}
::-webkit-scrollbar-track {
  background: #000; /* Black background for the track */
}
::-webkit-scrollbar-thumb {
  background: #333; /* Dark grey for the thumb */
  border-radius: 10px; /* Rounded corners for the thumb */
}
::-webkit-scrollbar-thumb:hover {
  background: #555; /* Slightly lighter grey when hovered */
}
/* For Firefox */
html {
  scrollbar-width: thin; /* Make the scrollbar thin */
  scrollbar-color: #333 #000; /* Thumb color, Track color */
}
/* For Internet Explorer and Edge */
* {
  scrollbar-color: #333 #000; /* Thumb color, Track color */
  scrollbar-width: thin; /* Make the scrollbar thin */
}
</style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <script>
      $(function() {
        $(".draggable").draggable({
        });
      });
    </script>
</body>
</html>